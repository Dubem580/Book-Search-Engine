{"map":{"version":3,"sources":["static/js/main.1c084d02.chunk.js"],"names":["this","push","109","module","exports","__webpack_require__","115","129","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","queries_templateObject","react","react_default","n","react_dom","react_dom_default","ApolloProvider","bundle_esm","react_router_dom","react_router","slicedToArray","Navbar","Container","Nav","Modal","Tab","regenerator","regenerator_default","asyncToGenerator","defineProperty","objectSpread2","Form","Alert","Button","classCallCheck","createClass","lib","lib_default","auth","AuthService","Object","key","value","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","taggedTemplateLiteral","graphql_tag_lib","LOGIN_USER","ADD_USER","SAVE_BOOK","REMOVE_BOOK","useMutation","components_SignupForm","_useMutation","addUser","_useState","username","email","password","_useState2","userFormData","setUserFormData","_useState3","validated","_useState5","_useState6","showAlert","setShowAlert","handleInputChange","event","_event$target","target","name","handleFormSubmit","_ref","a","mark","_callee","_yield$addUser","data","wrap","_context","prev","next","preventDefault","currentTarget","checkValidity","stopPropagation","variables","sent","login","t0","console","error","stop","_x","apply","arguments","createElement","Fragment","noValidate","onSubmit","dismissible","onClose","show","variant","Group","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","disabled","components_LoginForm","_yield$login","components_Navbar","showModal","setShowModal","bg","expand","fluid","Brand","as","to","Toggle","aria-controls","Collapse","id","className","Link","loggedIn","onClick","logout","size","onHide","aria-labelledby","defaultActiveKey","Header","closeButton","Title","Item","eventKey","Body","Content","Pane","handleModalClose","toConsumableArray","Jumbotron","Col","CardColumns","Card","removeBookId","bookId","savedBookIds","JSON","parse","updatedSavedBookIds","filter","savedBookId","stringify","pages_SearchBooks","_useMutation2","saveBook","searchedBooks","setSearchedBooks","_useState4","searchInput","setSearchInput","setSavedBookIds","bookIdArr","length","response","_yield$response$json","items","bookData","abrupt","fetch","concat","ok","Error","json","map","book","_book$volumeInfo$imag","authors","volumeInfo","title","description","image","imageLinks","thumbnail","handleSaveBook","_ref2","_callee2","bookToSave","_yield$saveBook","_context2","find","input","log","_x2","Row","xs","md","e","border","Img","src","alt","Text","some","useQuery","queries_GET_ME","pages_SavedBooks","removeBook","_useQuery","loading","userData","me","handleDeleteBook","_yield$removeBook","_data","savedBooks","client","request","operation","setContext","headers","authorization","uri","src_App","exact","path","component","render","StrictMode","document","getElementById"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,a,t){e.exports=t(129)},115:function(e,a,t){},129:function(e,a,t){\"use strict\";t.r(a);var n,r,o,l,c,i=t(0),s=t.n(i),u=t(42),m=t.n(u),d=(t(114),t(115),t(138)),b=t(101),p=t(55),g=t(18),v=t(20),k=t(143),E=t(135),h=t(142),f=t(140),w=t(145),O=t(24),j=t.n(O),S=t(36),y=t(52),I=t(44),x=t(141),C=t(133),B=t(134),F=t(89),T=t(90),L=t(81),_=t.n(L),N=new(function(){function e(){Object(F.a)(this,e)}return Object(T.a)(e,[{key:\"getProfile\",value:function(){return _()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return _()(e).exp<Date.now()/1e3}catch(a){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),$=t(49),q=t(50),P=Object(q.a)(n||(n=Object($.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n        email\\n        bookCount\\n        savedBooks {\\n          bookId\\n          title\\n          description\\n          authors\\n          image\\n          link\\n        }\\n      }\\n    }\\n  }\\n\"]))),D=Object(q.a)(r||(r=Object($.a)([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n        email\\n        bookCount\\n        savedBooks {\\n          bookId\\n          title\\n          description\\n          authors\\n          image\\n          link\\n        }\\n      }\\n    }\\n  }\\n\"]))),G=Object(q.a)(o||(o=Object($.a)([\"\\n  mutation saveBook($input: bookInput!) {\\n    saveBook(input: $input) {\\n      _id\\n      username\\n      email\\n      savedBooks {\\n        bookId\\n        authors\\n        image\\n        description\\n        title\\n        link\\n      }\\n    }\\n  }\\n\"]))),U=Object(q.a)(l||(l=Object($.a)([\"\\n  mutation removeBook($bookId: String!) {\\n    removeBook(bookId: $bookId) {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        image\\n        description\\n        title\\n        link\\n      }\\n    }\\n  }\\n\"]))),V=t(139),Y=function(){var e=Object(V.a)(D),a=Object(v.a)(e,1)[0],t=Object(i.useState)({username:\"\",email:\"\",password:\"\"}),n=Object(v.a)(t,2),r=n[0],o=n[1],l=Object(i.useState)(!1),c=Object(v.a)(l,1)[0],u=Object(i.useState)(!1),m=Object(v.a)(u,2),d=m[0],b=m[1],p=function(e){var a=e.target,t=a.name,n=a.value;o(Object(I.a)(Object(I.a)({},r),{},Object(y.a)({},t,n)))},g=function(){var e=Object(S.a)(j.a.mark((function e(t){var n,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,a({variables:Object(I.a)({},r)});case 6:n=e.sent,l=n.data,N.login(l.addUser.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),b(!0);case 15:o({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{noValidate:!0,validated:c,onSubmit:g},s.a.createElement(C.a,{dismissible:!0,onClose:function(){return b(!1)},show:d,variant:\"danger\"},\"Something went wrong with your signup!\"),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Label,{htmlFor:\"username\"},\"Username\"),s.a.createElement(x.a.Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:p,value:r.username,required:!0}),s.a.createElement(x.a.Control.Feedback,{type:\"invalid\"},\"Username is required!\")),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Label,{htmlFor:\"email\"},\"Email\"),s.a.createElement(x.a.Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:p,value:r.email,required:!0}),s.a.createElement(x.a.Control.Feedback,{type:\"invalid\"},\"Email is required!\")),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Label,{htmlFor:\"password\"},\"Password\"),s.a.createElement(x.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:p,value:r.password,required:!0}),s.a.createElement(x.a.Control.Feedback,{type:\"invalid\"},\"Password is required!\")),s.a.createElement(B.a,{disabled:!(r.username&&r.email&&r.password),type:\"submit\",variant:\"success\"},\"Submit\")))},J=function(){var e=Object(V.a)(P),a=Object(v.a)(e,1)[0],t=Object(i.useState)({email:\"\",password:\"\"}),n=Object(v.a)(t,2),r=n[0],o=n[1],l=Object(i.useState)(!1),c=Object(v.a)(l,1)[0],u=Object(i.useState)(!1),m=Object(v.a)(u,2),d=m[0],b=m[1],p=function(e){var a=e.target,t=a.name,n=a.value;o(Object(I.a)(Object(I.a)({},r),{},Object(y.a)({},t,n)))},g=function(){var e=Object(S.a)(j.a.mark((function e(t){var n,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.prev=3,e.next=6,a({variables:Object(I.a)({},r)});case 6:n=e.sent,l=n.data,N.login(l.login.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),b(!0);case 15:o({username:\"\",email:\"\",password:\"\"});case 16:case\"end\":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{noValidate:!0,validated:c,onSubmit:g},s.a.createElement(C.a,{dismissible:!0,onClose:function(){return b(!1)},show:d,variant:\"danger\"},\"Something went wrong with your login credentials!\"),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Label,{htmlFor:\"email\"},\"Email\"),s.a.createElement(x.a.Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:p,value:r.email,required:!0}),s.a.createElement(x.a.Control.Feedback,{type:\"invalid\"},\"Email is required!\")),s.a.createElement(x.a.Group,null,s.a.createElement(x.a.Label,{htmlFor:\"password\"},\"Password\"),s.a.createElement(x.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:p,value:r.password,required:!0}),s.a.createElement(x.a.Control.Feedback,{type:\"invalid\"},\"Password is required!\")),s.a.createElement(B.a,{disabled:!(r.email&&r.password),type:\"submit\",variant:\"success\"},\"Submit\")))},K=function(){var e=Object(i.useState)(!1),a=Object(v.a)(e,2),t=a[0],n=a[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{bg:\"dark\",variant:\"dark\",expand:\"lg\"},s.a.createElement(E.a,{fluid:!0},s.a.createElement(k.a.Brand,{as:p.b,to:\"/\"},\"Google Books Search\"),s.a.createElement(k.a.Toggle,{\"aria-controls\":\"navbar\"}),s.a.createElement(k.a.Collapse,{id:\"navbar\"},s.a.createElement(h.a,{className:\"ml-auto\"},s.a.createElement(h.a.Link,{as:p.b,to:\"/\"},\"Search For Books\"),N.loggedIn()?s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a.Link,{as:p.b,to:\"/saved\"},\"See Your Books\"),s.a.createElement(h.a.Link,{onClick:N.logout},\"Logout\")):s.a.createElement(h.a.Link,{onClick:function(){return n(!0)}},\"Login/Sign Up\"))))),s.a.createElement(f.a,{size:\"lg\",show:t,onHide:function(){return n(!1)},\"aria-labelledby\":\"signup-modal\"},s.a.createElement(w.a.Container,{defaultActiveKey:\"login\"},s.a.createElement(f.a.Header,{closeButton:!0},s.a.createElement(f.a.Title,{id:\"signup-modal\"},s.a.createElement(h.a,{variant:\"pills\"},s.a.createElement(h.a.Item,null,s.a.createElement(h.a.Link,{eventKey:\"login\"},\"Login\")),s.a.createElement(h.a.Item,null,s.a.createElement(h.a.Link,{eventKey:\"signup\"},\"Sign Up\"))))),s.a.createElement(f.a.Body,null,s.a.createElement(w.a.Content,null,s.a.createElement(w.a.Pane,{eventKey:\"login\"},s.a.createElement(J,{handleModalClose:function(){return n(!1)}})),s.a.createElement(w.a.Pane,{eventKey:\"signup\"},s.a.createElement(Y,{handleModalClose:function(){return n(!1)}})))))))},z=t(102),A=t(136),M=t(94),H=t(137),R=t(146),W=function(e){var a=localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):null;if(!a)return!1;var t=null===a||void 0===a?void 0:a.filter((function(a){return a!==e}));return localStorage.setItem(\"saved_books\",JSON.stringify(t)),!0},Q=function(){var e=Object(V.a)(G),a=Object(v.a)(e,2),t=a[0],n=a[1].error,r=Object(i.useState)([]),o=Object(v.a)(r,2),l=o[0],c=o[1],u=Object(i.useState)(\"\"),m=Object(v.a)(u,2),d=m[0],b=m[1],p=Object(i.useState)(localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):[]),g=Object(v.a)(p,2),k=g[0],h=g[1];Object(i.useEffect)((function(){return function(){var e;(e=k).length?localStorage.setItem(\"saved_books\",JSON.stringify(e)):localStorage.removeItem(\"saved_books\")}}));var f=function(){var e=Object(S.a)(j.a.mark((function e(a){var t,n,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),d){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(d));case 6:if((t=e.sent).ok){e.next=9;break}throw new Error(\"something went wrong!\");case 9:return e.next=11,t.json();case 11:n=e.sent,r=n.items,o=r.map((function(e){var a;return{bookId:e.id,authors:e.volumeInfo.authors||[\"No author to display\"],title:e.volumeInfo.title,description:e.volumeInfo.description,image:(null===(a=e.volumeInfo.imageLinks)||void 0===a?void 0:a.thumbnail)||\"\"}})),c(o),b(\"\"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0);case 21:case\"end\":return e.stop()}}),e,null,[[3,18]])})));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(S.a)(j.a.mark((function e(a){var r,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.find((function(e){return e.bookId===a})),N.loggedIn()?N.getToken():null){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,t({variables:{input:r}});case 7:if(o=e.sent,c=o.data,!n){e.next=11;break}throw new Error(\"something went wrong!\");case 11:console.log(c),h([].concat(Object(z.a)(k),[r.bookId])),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:case\"end\":return e.stop()}}),e,null,[[4,15]])})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{fluid:!0,className:\"text-light bg-dark\"},s.a.createElement(E.a,null,s.a.createElement(\"h1\",null,\"Search for Books!\"),s.a.createElement(x.a,{onSubmit:f},s.a.createElement(x.a.Row,null,s.a.createElement(M.a,{xs:12,md:8},s.a.createElement(x.a.Control,{name:\"searchInput\",value:d,onChange:function(e){return b(e.target.value)},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})),s.a.createElement(M.a,{xs:12,md:4},s.a.createElement(B.a,{type:\"submit\",variant:\"success\",size:\"lg\"},\"Submit Search\")))))),s.a.createElement(E.a,null,s.a.createElement(\"h2\",null,l.length?\"Viewing \".concat(l.length,\" results:\"):\"Search for a book to begin\"),s.a.createElement(H.a,null,l.map((function(e){return s.a.createElement(R.a,{key:e.bookId,border:\"dark\"},e.image?s.a.createElement(R.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,s.a.createElement(R.a.Body,null,s.a.createElement(R.a.Title,null,e.title),s.a.createElement(\"p\",{className:\"small\"},\"Authors: \",e.authors),s.a.createElement(R.a.Text,null,e.description),N.loggedIn()&&s.a.createElement(B.a,{disabled:null===k||void 0===k?void 0:k.some((function(a){return a===e.bookId})),className:\"btn-block btn-info\",onClick:function(){return w(e.bookId)}},(null===k||void 0===k?void 0:k.some((function(a){return a===e.bookId})))?\"This book has already been saved!\":\"Save this Book!\")))})))))},X=t(144),Z=Object(q.a)(c||(c=Object($.a)([\"\\n    {\\n        me {\\n            _id\\n            username\\n            email\\n            bookCount\\n            savedBooks {\\n                bookId\\n                authors\\n                title\\n                description\\n                image\\n                link\\n            }\\n        }\\n    }\\n\"]))),ee=function(){var e=Object(V.a)(U),a=Object(v.a)(e,2),t=a[0],n=a[1].error,r=Object(X.a)(Z),o=r.loading,l=r.data,c=(null===l||void 0===l?void 0:l.me)||{},i=function(){var e=Object(S.a)(j.a.mark((function e(a){var r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.loggedIn()?N.getToken():null){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,t({variables:{bookId:a}});case 6:if(r=e.sent,o=r.data,console.log(o),!n){e.next=11;break}throw new Error(\"Something went wrong!\");case 11:W(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case\"end\":return e.stop()}}),e,null,[[3,14]])})));return function(a){return e.apply(this,arguments)}}();return o?s.a.createElement(\"h2\",null,\"LOADING...\"):s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{fluid:!0,className:\"text-light bg-dark\"},s.a.createElement(E.a,null,s.a.createElement(\"h1\",null,\"Viewing saved books!\"))),s.a.createElement(E.a,null,s.a.createElement(\"h2\",null,c.savedBooks.length?\"Viewing \".concat(c.savedBooks.length,\" saved \").concat(1===c.savedBooks.length?\"book\":\"books\",\":\"):\"You have no saved books!\"),s.a.createElement(H.a,null,c.savedBooks.map((function(e){return s.a.createElement(R.a,{key:e.bookId,border:\"dark\"},e.image?s.a.createElement(R.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,s.a.createElement(R.a.Body,null,s.a.createElement(R.a.Title,null,e.title),s.a.createElement(\"p\",{className:\"small\"},\"Authors: \",e.authors),s.a.createElement(R.a.Text,null,e.description),s.a.createElement(B.a,{className:\"btn-block btn-danger\",onClick:function(){return i(e.bookId)}},\"Delete this Book!\")))})))))},ae=new b.a({request:function(e){var a=localStorage.getItem(\"id_token\");e.setContext({headers:{authorization:a?\"Bearer \".concat(a):\"\"}})},uri:\"/graphql\"});var te=function(){return s.a.createElement(d.a,{client:ae},s.a.createElement(p.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(K,null),s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:\"/\",component:Q}),s.a.createElement(g.a,{exact:!0,path:\"/saved\",component:ee}),s.a.createElement(g.a,{render:function(){return s.a.createElement(\"h1\",{className:\"display-2\"},\"Wrong page!\")}})))))};m.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(te,null)),document.getElementById(\"root\"))}},[[109,1,2]]]);","extractedComments":[]}